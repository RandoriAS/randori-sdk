fillConsoleForIE=function(){window.console||(window.console={});window.console.log||(window.console.log=function(){})};if("undefined"==typeof randori)var randori={};"undefined"==typeof randori.behaviors&&(randori.behaviors={});randori.behaviors.AbstractBehavior=function(){this.decoratedNode=this.decoratedElement=this.injectedPoints=this.viableInjectionPoints=this.viewElementIDMap=null;this.injectedPoints=[]};randori.behaviors.AbstractBehavior.prototype.hide=function(){this.decoratedNode.hide()};
randori.behaviors.AbstractBehavior.prototype.show=function(){this.decoratedNode.show()};randori.behaviors.AbstractBehavior.prototype.getViewElementByID=function(a){return this.viewElementIDMap[a]};randori.behaviors.AbstractBehavior.prototype.onPreRegister=function(){null==this.viableInjectionPoints&&(this.viableInjectionPoints=this.getBehaviorInjectionPoints())};randori.behaviors.AbstractBehavior.prototype.onRegister=function(){};randori.behaviors.AbstractBehavior.prototype.onDeregister=function(){};
randori.behaviors.AbstractBehavior.prototype.injectPotentialNode=function(a,b){null!=a&&(null!=this.viableInjectionPoints&&null!=this.viableInjectionPoints[a])&&(delete this.viableInjectionPoints[a],this[a]=b,this.injectedPoints.push(a))};randori.behaviors.AbstractBehavior.prototype.provideDecoratedElement=function(a){this.decoratedElement=a;this.decoratedNode=jQuery(this.decoratedElement);this.onPreRegister()};
randori.behaviors.AbstractBehavior.prototype.verifyAndRegister=function(){for(var a in this.viableInjectionPoints){if("req"==this.viableInjectionPoints[a]){var b=new guice.reflection.TypeDefinition(this.constructor);alert(b.getClassName()+" requires a [View] element with the id of "+a+" but it could not be found");throw Error(b.getClassName()+" requires a [View] element with the id of "+a+" but it could not be found");}delete this.viableInjectionPoints[a]}this.viableInjectionPoints=null;this.onRegister()};
randori.behaviors.AbstractBehavior.prototype.removeAndCleanup=function(){var a;this.onDeregister();for(var b=0;b<this.injectedPoints.length;b++)a=this[this.injectedPoints[b]],null!=a&&null!=a.removeAndCleanup&&a.removeAndCleanup();this.injectedPoints=[]};randori.behaviors.AbstractBehavior.prototype.getBehaviorInjectionPoints=function(){for(var a={},b=(new guice.reflection.TypeDefinition(this.constructor)).getViewFields(),c=0;c<b.length;c++)a[b[c].n]=0==b[c].r?"opt":"req";return a};
randori.behaviors.AbstractBehavior.className="randori.behaviors.AbstractBehavior";randori.behaviors.AbstractBehavior.getClassDependencies=function(){var a;a=[];a.push("guice.reflection.TypeDefinition");return a};randori.behaviors.AbstractBehavior.injectionPoints=function(){return[]};"undefined"==typeof randori&&(randori={});"undefined"==typeof randori.behaviors&&(randori.behaviors={});
randori.behaviors.SimpleList=function(a){this._data=this._renderFunction=this.templateBuilder=this.template=null;randori.behaviors.AbstractBehavior.call(this);this.domWalker=a};randori.behaviors.SimpleList.prototype.get_renderFunction=function(){return this._renderFunction};randori.behaviors.SimpleList.prototype.set_renderFunction=function(a){this._renderFunction=a};randori.behaviors.SimpleList.prototype.get_data=function(){return this._data};
randori.behaviors.SimpleList.prototype.set_data=function(a){this._data=a;this.renderList()};
randori.behaviors.SimpleList.prototype.renderList=function(){var a,b=jQuery("<div></div>");if(null==this.get_data()||0==this.get_data().length)this.showNoResults();else if(this.templateBuilder.validTemplate||null!=this.get_renderFunction()){if(this.templateBuilder.validTemplate)for(var c=0;c<this.get_data().length;c++)a=this.templateBuilder.renderTemplateClone(this.get_data()[c]).children(),a.addClass("randoriListItem"),b.append(a);else if(null!=this.get_renderFunction())for(c=0;c<this.get_data().length;c++)a=
this.get_renderFunction()(c,this.get_data()[c]),a.addClass("randoriListItem"),b.append(a);this.domWalker.walkDomFragment(b[0],this);this.decoratedNode.empty();this.decoratedNode.append(b.children())}};randori.behaviors.SimpleList.prototype.onPreRegister=function(){randori.behaviors.AbstractBehavior.prototype.onPreRegister.call(this);this.templateBuilder.captureAndEmptyTemplateContents(this.decoratedNode)};randori.behaviors.SimpleList.prototype.onRegister=function(){this.renderList()};
randori.behaviors.SimpleList.prototype.onDeregister=function(){this.set_data(null);this.decoratedNode.empty()};randori.behaviors.SimpleList.prototype.showLoading=function(){this.decoratedNode.html('<div style="height:100%; width:100%;"><div style="text-align:center;width:100%;top:60%;position:absolute">Loading...</div></div>')};randori.behaviors.SimpleList.prototype.showNoResults=function(a){1>arguments.length&&(a=!0);this.decoratedNode.html('<div style="height:100%; width:100%;"><div style="text-align:center;width:100%;top:60%;position:absolute">No Items Found</div></div>')};
$inherit(randori.behaviors.SimpleList,randori.behaviors.AbstractBehavior);randori.behaviors.SimpleList.className="randori.behaviors.SimpleList";randori.behaviors.SimpleList.getClassDependencies=function(){return[]};
randori.behaviors.SimpleList.injectionPoints=function(a){switch(a){case 0:a=[];a.push({n:"domWalker",t:"randori.dom.DomWalker"});break;case 1:a=randori.behaviors.AbstractBehavior.injectionPoints(a);a.push({n:"templateBuilder",t:"randori.template.TemplateBuilder",r:0,v:null});break;case 2:a=randori.behaviors.AbstractBehavior.injectionPoints(a);break;case 3:a=randori.behaviors.AbstractBehavior.injectionPoints(a);a.push({n:"template",r:0});break;default:a=[]}return a};
"undefined"==typeof randori&&(randori={});"undefined"==typeof randori.behaviors&&(randori.behaviors={});randori.behaviors.List=function(a){this._selectedItem=this.listChanged=null;this._selectedIndex=-1;randori.behaviors.SimpleList.call(this,a);this.listChanged=new randori.signal.SimpleSignal};randori.behaviors.List.prototype.get_selectedItem=function(){return this._data[this._selectedIndex]};
randori.behaviors.List.prototype.set_selectedItem=function(a){if(null!=this._data)for(var b=0;b<this._data.length;b++)if(a==this._data[b]){this.set_selectedIndex(b);break}};randori.behaviors.List.prototype.get_selectedIndex=function(){return this._selectedIndex};
randori.behaviors.List.prototype.set_selectedIndex=function(a){this._selectedIndex=a;this.decoratedNode.children().removeClass("selected");this._data&&this._data.length>=a&&(-1<a&&a<this.decoratedNode.children().length)&&(this.decoratedNode.children().eq(a).addClass("selected"),this.listChanged.dispatch(a,this.get_data()[a]))};
randori.behaviors.List.prototype.onRegister=function(){randori.behaviors.SimpleList.prototype.onRegister.call(this);this.decoratedNode.delegate(".randoriListItem","click",$createStaticDelegate(this,this.onItemClick))};randori.behaviors.List.prototype.renderList=function(){randori.behaviors.SimpleList.prototype.renderList.call(this)};randori.behaviors.List.prototype.onItemClick=function(a){a=jQuery(a.currentTarget).index();this.set_selectedIndex(a)};$inherit(randori.behaviors.List,randori.behaviors.SimpleList);
randori.behaviors.List.className="randori.behaviors.List";randori.behaviors.List.getClassDependencies=function(){var a;a=[];a.push("randori.signal.SimpleSignal");return a};randori.behaviors.List.injectionPoints=function(a){switch(a){case 0:a=[];a.push({n:"walker",t:"randori.dom.DomWalker"});break;case 1:a=randori.behaviors.SimpleList.injectionPoints(a);break;case 2:a=randori.behaviors.SimpleList.injectionPoints(a);break;case 3:a=randori.behaviors.SimpleList.injectionPoints(a);break;default:a=[]}return a};
"undefined"==typeof randori&&(randori={});"undefined"==typeof randori.behaviors&&(randori.behaviors={});randori.behaviors.AbstractMediator=function(){randori.behaviors.AbstractBehavior.call(this)};randori.behaviors.AbstractMediator.prototype.setViewData=function(){};$inherit(randori.behaviors.AbstractMediator,randori.behaviors.AbstractBehavior);randori.behaviors.AbstractMediator.className="randori.behaviors.AbstractMediator";randori.behaviors.AbstractMediator.getClassDependencies=function(){return[]};
randori.behaviors.AbstractMediator.injectionPoints=function(a){switch(a){case 1:a=randori.behaviors.AbstractBehavior.injectionPoints(a);break;case 2:a=randori.behaviors.AbstractBehavior.injectionPoints(a);break;case 3:a=randori.behaviors.AbstractBehavior.injectionPoints(a);break;default:a=[]}return a};"undefined"==typeof randori&&(randori={});"undefined"==typeof randori.behaviors&&(randori.behaviors={});"undefined"==typeof randori.behaviors.template&&(randori.behaviors.template={});
randori.behaviors.template.TemplateRenderer=function(a,b){this._data=null;randori.behaviors.AbstractBehavior.call(this);this.domWalker=a;this.templateBuilder=b};randori.behaviors.template.TemplateRenderer.prototype.get_data=function(){return this._data};randori.behaviors.template.TemplateRenderer.prototype.set_data=function(a){a!=this._data&&(this._data=a,this.renderMessage())};
randori.behaviors.template.TemplateRenderer.prototype.onPreRegister=function(){randori.behaviors.AbstractBehavior.prototype.onPreRegister.call(this);this.templateBuilder.captureAndEmptyTemplateContents(this.decoratedNode)};randori.behaviors.template.TemplateRenderer.prototype.renderMessage=function(){var a=this.templateBuilder.renderTemplateClone(this.get_data());this.decoratedNode.html(a.html());this.domWalker.walkDomChildren(this.decoratedElement,this)};
randori.behaviors.template.TemplateRenderer.prototype.onDeregister=function(){this._data=null;this.decoratedNode.empty()};$inherit(randori.behaviors.template.TemplateRenderer,randori.behaviors.AbstractBehavior);randori.behaviors.template.TemplateRenderer.className="randori.behaviors.template.TemplateRenderer";randori.behaviors.template.TemplateRenderer.getClassDependencies=function(){return[]};
randori.behaviors.template.TemplateRenderer.injectionPoints=function(a){switch(a){case 0:a=[];a.push({n:"domWalker",t:"randori.dom.DomWalker"});a.push({n:"templateBuilder",t:"randori.template.TemplateBuilder"});break;case 1:a=randori.behaviors.AbstractBehavior.injectionPoints(a);break;case 2:a=randori.behaviors.AbstractBehavior.injectionPoints(a);break;case 3:a=randori.behaviors.AbstractBehavior.injectionPoints(a);break;default:a=[]}return a};"undefined"==typeof randori&&(randori={});
"undefined"==typeof randori.behaviors&&(randori.behaviors={});randori.behaviors.AbstractRenderer=function(){randori.behaviors.AbstractBehavior.call(this)};randori.behaviors.AbstractRenderer.prototype.setData=function(){};$inherit(randori.behaviors.AbstractRenderer,randori.behaviors.AbstractBehavior);randori.behaviors.AbstractRenderer.className="randori.behaviors.AbstractRenderer";randori.behaviors.AbstractRenderer.getClassDependencies=function(){return[]};
randori.behaviors.AbstractRenderer.injectionPoints=function(a){switch(a){case 1:a=randori.behaviors.AbstractBehavior.injectionPoints(a);break;case 2:a=randori.behaviors.AbstractBehavior.injectionPoints(a);break;case 3:a=randori.behaviors.AbstractBehavior.injectionPoints(a);break;default:a=[]}return a};"undefined"==typeof randori&&(randori={});"undefined"==typeof randori.behaviors&&(randori.behaviors={});
randori.behaviors.ViewStack=function(a,b,c,d){this.mediators=this.viewFragmentStack=this._currentView=null;randori.behaviors.AbstractBehavior.call(this);this.contentLoader=a;this.contentParser=b;this.viewChangeAnimator=d;this.domWalker=c;this.viewFragmentStack=[]};randori.behaviors.ViewStack.prototype.get_currentViewUrl=function(){return null!=this._currentView?this._currentView.data("url"):null};
randori.behaviors.ViewStack.prototype.hasView=function(a){a=this.decoratedNode.find("[data-url='"+a+"']");return null!=a&&0<a.length};
randori.behaviors.ViewStack.prototype.pushView=function(a){var b=document.createElement("div"),c=jQuery(b);c.hide();c.css("width","100%");c.css("height","100%");c.css("position","absolute");c.css("top","0");c.css("left","0");c.data("url",a);var d=this;return this.contentLoader.asynchronousLoad(a).then(function(e){var f=d.contentParser.parse(e);e=(new Date).getTime();c.html(f);c.attr("data-url",a);c.attr("data-viewstackid",e);d.decoratedNode.append(b);f=new randori.behaviors.viewStack.MediatorCapturer;
d.domWalker.walkDomFragment(b,f);d.viewFragmentStack.push(c);f=f.get_mediator();d.mediators[e]=f;d.showView(d._currentView,c);d._currentView=c;return f})};
randori.behaviors.ViewStack.prototype.popView=function(){var a=this.viewFragmentStack.pop();if(null!=a){a.remove();var a=a.data("viewstackid"),b=this.mediators[a];null!=b&&(b.removeAndCleanup(),delete this.mediators[a])}0<this.viewFragmentStack.length?(this._currentView=this.viewFragmentStack[this.viewFragmentStack.length-1],null!=this._currentView&&this._currentView.show()):this._currentView=null};
randori.behaviors.ViewStack.prototype.empty=function(){for(;0<this.viewFragmentStack.length;){var a=this.viewFragmentStack.pop();if(null!=a){a.remove();var a=a.data("viewstackid"),b=this.mediators[a];null!=b&&(b.removeAndCleanup(),delete this.mediators[a])}}this._currentView=null};
randori.behaviors.ViewStack.prototype.selectView=function(a){var b;if(this.get_currentViewUrl()!=a){for(var c=-1,d=0;d<this.viewFragmentStack.length;d++)if(b=this.viewFragmentStack[d],b.data("url")==a){c=d;break}if(-1<c)b=this.viewFragmentStack.splice(c,1)[0],b.detach(),this.decoratedNode.append(b),this.viewFragmentStack.push(b),this.showView(this._currentView,b),this._currentView=b;else throw Error("Unknown View");}};
randori.behaviors.ViewStack.prototype.showView=function(a,b){null!=a&&a.hide();null!=b&&b.show()};randori.behaviors.ViewStack.prototype.transitionViews=function(a,b,c){3>arguments.length&&(c=null);return null};randori.behaviors.ViewStack.prototype.onRegister=function(){this.mediators={};this.decoratedNode.empty()};randori.behaviors.ViewStack.prototype.onDeregister=function(){this.mediators={};this.decoratedNode.empty()};$inherit(randori.behaviors.ViewStack,randori.behaviors.AbstractBehavior);
randori.behaviors.ViewStack.className="randori.behaviors.ViewStack";randori.behaviors.ViewStack.getClassDependencies=function(){var a;a=[];a.push("randori.behaviors.viewStack.MediatorCapturer");return a};
randori.behaviors.ViewStack.injectionPoints=function(a){switch(a){case 0:a=[];a.push({n:"contentLoader",t:"randori.content.ContentLoader"});a.push({n:"contentParser",t:"randori.content.ContentParser"});a.push({n:"domWalker",t:"randori.dom.DomWalker"});a.push({n:"viewChangeAnimator",t:"randori.behaviors.viewStack.ViewChangeAnimator"});break;case 1:a=randori.behaviors.AbstractBehavior.injectionPoints(a);break;case 2:a=randori.behaviors.AbstractBehavior.injectionPoints(a);break;case 3:a=randori.behaviors.AbstractBehavior.injectionPoints(a);
break;default:a=[]}return a};"undefined"==typeof randori&&(randori={});"undefined"==typeof randori.behaviors&&(randori.behaviors={});"undefined"==typeof randori.behaviors.list&&(randori.behaviors.list={});randori.behaviors.list.DataRendererProvider=function(a){this.data=a;randori.behaviors.AbstractBehavior.call(this)};randori.behaviors.list.DataRendererProvider.prototype.onDeregister=function(){this.data=null};
randori.behaviors.list.DataRendererProvider.prototype.injectPotentialNode=function(a,b){null!=b.setData&&b.setData(this.data)};$inherit(randori.behaviors.list.DataRendererProvider,randori.behaviors.AbstractBehavior);randori.behaviors.list.DataRendererProvider.className="randori.behaviors.list.DataRendererProvider";randori.behaviors.list.DataRendererProvider.getClassDependencies=function(){return[]};
randori.behaviors.list.DataRendererProvider.injectionPoints=function(a){switch(a){case 0:a=[];a.push({n:"data",t:"Object"});break;case 1:a=randori.behaviors.AbstractBehavior.injectionPoints(a);break;case 2:a=randori.behaviors.AbstractBehavior.injectionPoints(a);break;case 3:a=randori.behaviors.AbstractBehavior.injectionPoints(a);break;default:a=[]}return a};"undefined"==typeof randori&&(randori={});"undefined"==typeof randori.behaviors&&(randori.behaviors={});
"undefined"==typeof randori.behaviors.viewStack&&(randori.behaviors.viewStack={});randori.behaviors.viewStack.MediatorCapturer=function(){this._mediator=null;randori.behaviors.AbstractBehavior.call(this)};randori.behaviors.viewStack.MediatorCapturer.prototype.get_mediator=function(){return this._mediator};randori.behaviors.viewStack.MediatorCapturer.prototype.onDeregister=function(){this._mediator=null};
randori.behaviors.viewStack.MediatorCapturer.prototype.injectPotentialNode=function(a,b){null==this._mediator&&null!=b.setViewData&&(this._mediator=b)};$inherit(randori.behaviors.viewStack.MediatorCapturer,randori.behaviors.AbstractBehavior);randori.behaviors.viewStack.MediatorCapturer.className="randori.behaviors.viewStack.MediatorCapturer";randori.behaviors.viewStack.MediatorCapturer.getClassDependencies=function(){return[]};
randori.behaviors.viewStack.MediatorCapturer.injectionPoints=function(a){switch(a){case 1:a=randori.behaviors.AbstractBehavior.injectionPoints(a);break;case 2:a=randori.behaviors.AbstractBehavior.injectionPoints(a);break;case 3:a=randori.behaviors.AbstractBehavior.injectionPoints(a);break;default:a=[]}return a};"undefined"==typeof randori&&(randori={});"undefined"==typeof randori.startup&&(randori.startup={});randori.startup.RandoriBootstrap=function(a){this.rootNode=a};
randori.startup.RandoriBootstrap.prototype.launch=function(a,b){2>arguments.length&&(1>arguments.length&&(a=!1),b="generated/");fillConsoleForIE();var c;c=a?new randori.service.url.URLCacheBuster:new guice.loader.URLRewriterBase;var d=new guice.loader.SynchronousClassLoader(new XMLHttpRequest,c,b);(new guice.GuiceJs(d)).createInjector(new randori.startup.RandoriModule(c)).getInstance(randori.dom.DomWalker).walkDomFragment(this.rootNode)};randori.startup.RandoriBootstrap.className="randori.startup.RandoriBootstrap";
randori.startup.RandoriBootstrap.getClassDependencies=function(){var a;a=[];a.push("randori.service.url.URLCacheBuster");a.push("randori.startup.RandoriModule");a.push("randori.dom.DomWalker");a.push("guice.loader.SynchronousClassLoader");a.push("guice.loader.URLRewriterBase");a.push("guice.GuiceJs");return a};randori.startup.RandoriBootstrap.injectionPoints=function(a){switch(a){case 0:a=[];a.push({n:"rootNode",t:"Node"});break;default:a=[]}return a};"undefined"==typeof randori&&(randori={});
"undefined"==typeof randori.behaviors&&(randori.behaviors={});"undefined"==typeof randori.behaviors.viewStack&&(randori.behaviors.viewStack={});randori.behaviors.viewStack.ViewChangeAnimator=function(){};randori.behaviors.viewStack.ViewChangeAnimator.className="randori.behaviors.viewStack.ViewChangeAnimator";randori.behaviors.viewStack.ViewChangeAnimator.getClassDependencies=function(){return[]};randori.behaviors.viewStack.ViewChangeAnimator.injectionPoints=function(){return[]};
"undefined"==typeof randori&&(randori={});"undefined"==typeof randori.styles&&(randori.styles={});randori.styles.StyleExtensionManager=function(a,b,c){this.map=a;this.serviceFactory=b;this.urlRewriter=c};
randori.styles.StyleExtensionManager.prototype.getExtensionsForFragment=function(a){for(var b=new randori.data.HashMap,c=this.map.getAllRandoriSelectorEntries(),d=0;d<c.length;d++)for(var e=jQuery(c[d],a),f,j=0;j<e.length;j++){var g=e[j],h=b.get(g);null==h?(f=this.map.getExtensionEntry(c[d]),b.put(g,f.clone())):(f=this.map.getExtensionEntry(c[d]),f.mergeTo(h))}return b};randori.styles.StyleExtensionManager.prototype.parsingNeeded=function(a){return"stylesheet/randori"==a.rel};
randori.styles.StyleExtensionManager.prototype.resetLinkAndReturnURL=function(a){a.rel="stylesheet";return a.href};randori.styles.StyleExtensionManager.prototype.resolveSheet=function(a){var b=this.serviceFactory.get();a=this.urlRewriter.rewriteURL(a);b.open("GET",a,!1);b.send();if(404==b.status)throw Error("Cannot Find StyleSheet "+a);var c=a.lastIndexOf("/");a.substring(0,c);this.parseAndPersistBehaviors(b.responseText)};
randori.styles.StyleExtensionManager.prototype.parseAndPersistBehaviors=function(a){var b,c,d=RegExp("^[\\w\\W]*?\\}","gm"),e=RegExp("\\s?-randori-([\\w\\W]+?)\\s?:\\s?[\"']?([\\w\\W]+?)[\"']?;","g"),f=/\s?-randori-([\w\W]+?)\s?:\s?["']?([\w\W]+?)["']?;/,j=/^(.+?)\s*?{/m,d=a.replace(RegExp("/\\*(.|[\\r\\n])*?\\*/","gm"),"\n").match(d);if(null!=d)for(var g=0;g<d.length;g++)if(b=d[g],a=b.match(e),null!=a){b=b.match(j);b=b[1];for(var h=0;h<a.length;h++)c=a[h],c=c.match(f),this.map.addCSSEntry(b,c[1],
c[2])}};randori.styles.StyleExtensionManager.prototype.parseAndReleaseLinkElement=function(a){this.resolveSheet(this.resetLinkAndReturnURL(a))};randori.styles.StyleExtensionManager.className="randori.styles.StyleExtensionManager";randori.styles.StyleExtensionManager.getClassDependencies=function(){var a;a=[];a.push("randori.data.HashMap");return a};
randori.styles.StyleExtensionManager.injectionPoints=function(a){switch(a){case 0:a=[];a.push({n:"map",t:"randori.styles.StyleExtensionMap"});a.push({n:"serviceFactory",t:"randori.service.XMLHttpRequestProvider"});a.push({n:"urlRewriter",t:"guice.loader.URLRewriterBase"});break;default:a=[]}return a};"undefined"==typeof randori&&(randori={});"undefined"==typeof randori.content&&(randori.content={});randori.content.ContentCache=function(){};randori.content.ContentCache.htmlMergedFiles={};
randori.content.ContentCache.prototype.hasCachedFile=function(a){return null!=randori.content.ContentCache.htmlMergedFiles[a]};randori.content.ContentCache.prototype.getCachedFileList=function(){var a=[],b;for(b in randori.content.ContentCache.htmlMergedFiles)a.push(b);return a};randori.content.ContentCache.prototype.getCachedHtmlForUri=function(a){return null!=randori.content.ContentCache.htmlMergedFiles[a]?randori.content.ContentCache.htmlMergedFiles[a]:null};
randori.content.ContentCache.className="randori.content.ContentCache";randori.content.ContentCache.getClassDependencies=function(){return[]};randori.content.ContentCache.injectionPoints=function(){return[]};"undefined"==typeof randori&&(randori={});"undefined"==typeof randori.styles&&(randori.styles={});randori.styles.StyleExtensionMapEntry=function(){this.hashMap=null;this.hashMap={}};randori.styles.StyleExtensionMapEntry.prototype.addExtensionType=function(a,b){this.hashMap[a]=b};
randori.styles.StyleExtensionMapEntry.prototype.hasExtensionType=function(a){return null!=this.hashMap[a]};randori.styles.StyleExtensionMapEntry.prototype.getExtensionValue=function(a){return this.hashMap[a]};randori.styles.StyleExtensionMapEntry.prototype.clone=function(){var a=new randori.styles.StyleExtensionMapEntry;this.mergeTo(a);return a};randori.styles.StyleExtensionMapEntry.prototype.mergeTo=function(a){for(var b in this.hashMap)a.addExtensionType(b,this.hashMap[b])};
randori.styles.StyleExtensionMapEntry.className="randori.styles.StyleExtensionMapEntry";randori.styles.StyleExtensionMapEntry.getClassDependencies=function(){return[]};randori.styles.StyleExtensionMapEntry.injectionPoints=function(){return[]};"undefined"==typeof randori&&(randori={});"undefined"==typeof randori.dom&&(randori.dom={});randori.dom.ElementDescriptorFactory=function(a){this.styleExtensionManager=a};
randori.dom.ElementDescriptorFactory.prototype.describeElement=function(a,b){var c=b.get(a),d={context:a.getAttribute("data-context"),behavior:a.hasAttribute("data-mediator")?a.getAttribute("data-mediator"):a.getAttribute("data-behavior"),fragment:a.getAttribute("data-fragment"),formatter:a.getAttribute("data-formatter"),validator:a.getAttribute("data-validator")};null!=c&&(null==d.context&&(d.context=c.getExtensionValue("context")),null==d.behavior&&(d.behavior=c.hasExtensionType("mediator")?c.getExtensionValue("mediator"):
c.getExtensionValue("behavior")),null==d.fragment&&(d.fragment=c.getExtensionValue("fragment")),null==d.formatter&&(d.formatter=c.getExtensionValue("formatter")),null==d.validator&&(d.validator=c.getExtensionValue("validator")));return d};randori.dom.ElementDescriptorFactory.className="randori.dom.ElementDescriptorFactory";randori.dom.ElementDescriptorFactory.getClassDependencies=function(){return[]};
randori.dom.ElementDescriptorFactory.injectionPoints=function(a){switch(a){case 0:a=[];a.push({n:"styleExtensionManager",t:"randori.styles.StyleExtensionManager"});break;default:a=[]}return a};"undefined"==typeof randori&&(randori={});"undefined"==typeof randori.i18n&&(randori.i18n={});randori.i18n.AbstractTranslator=function(a){this.translationResult=a};randori.i18n.AbstractTranslator.prototype.synchronousTranslate=function(){return null};randori.i18n.AbstractTranslator.prototype.translate=function(){};
randori.i18n.AbstractTranslator.className="randori.i18n.AbstractTranslator";randori.i18n.AbstractTranslator.getClassDependencies=function(){return[]};randori.i18n.AbstractTranslator.injectionPoints=function(a){switch(a){case 0:a=[];a.push({n:"translationResult",t:"randori.signal.SimpleSignal"});break;default:a=[]}return a};"undefined"==typeof randori&&(randori={});"undefined"==typeof randori.i18n&&(randori.i18n={});
randori.i18n.NoOpTranslator=function(a){randori.i18n.AbstractTranslator.call(this,a)};randori.i18n.NoOpTranslator.prototype.synchronousTranslate=function(a,b){null!=console&&console.log("Requested to translate: "+a+" "+b);return[]};randori.i18n.NoOpTranslator.prototype.translate=function(a,b){null!=console&&console.log("Requested to translate: "+a+" "+b)};$inherit(randori.i18n.NoOpTranslator,randori.i18n.AbstractTranslator);randori.i18n.NoOpTranslator.className="randori.i18n.NoOpTranslator";
randori.i18n.NoOpTranslator.getClassDependencies=function(){return[]};randori.i18n.NoOpTranslator.injectionPoints=function(a){switch(a){case 0:a=[];a.push({n:"translationResult",t:"randori.signal.SimpleSignal"});break;case 1:a=randori.i18n.AbstractTranslator.injectionPoints(a);break;case 2:a=randori.i18n.AbstractTranslator.injectionPoints(a);break;case 3:a=randori.i18n.AbstractTranslator.injectionPoints(a);break;default:a=[]}return a};"undefined"==typeof randori&&(randori={});
"undefined"==typeof randori.i18n&&(randori.i18n={});randori.i18n.PropertyFileTranslator=function(a,b,c,d){this.keyValuePairs=null;this.fileLoaded=!1;randori.i18n.AbstractTranslator.call(this,a);this.url=b;this.xmlHttpRequest=c;this.urlRewriter=d;this.keyValuePairs={}};randori.i18n.PropertyFileTranslator.prototype.synchronousTranslate=function(a,b){this.fileLoaded||this.makeSynchronousRequest(this.url);return this.provideTranslations(a,b)};
randori.i18n.PropertyFileTranslator.prototype.translate=function(a,b){if(this.fileLoaded){var c=this.provideTranslations(a,b);this.translationResult.dispatch(a,c)}else this.makeAsynchronousRequest(this.url,function(){var c=this.provideTranslations(a,b);this.translationResult.dispatch(a,c)})};randori.i18n.PropertyFileTranslator.prototype.provideTranslations=function(a,b){for(var c=[],d,e=0;e<b.length;e++)d={},d.key=b[e],d.value=this.keyValuePairs[b[e]],c.push(d);return c};
randori.i18n.PropertyFileTranslator.prototype.makeSynchronousRequest=function(a){var b=this.xmlHttpRequest;a=this.urlRewriter.rewriteURL(a);b.open("GET",a,!1);b.send();if(404==b.status)throw alert("Required Content "+a+" cannot be loaded."),Error("Cannot continue, missing required property file "+a);this.parseResult(b.responseText)};
randori.i18n.PropertyFileTranslator.prototype.makeAsynchronousRequest=function(a,b){var c=this.xmlHttpRequest;a=this.urlRewriter.rewriteURL(a);c.open("GET",a,!0);c.onreadystatechange=function(){if(4==c.readyState&&200==c.status)this.parseResult(c.responseText),b();else if(3<=c.readyState&&404==c.status)throw alert("Required Content "+a+" cannot be loaded."),Error("Cannot continue, missing required property file "+a);};c.send()};
randori.i18n.PropertyFileTranslator.prototype.parseResult=function(a){a=a.match(RegExp("[\\w\\W]+?[\\n\\r]+","g"));this.fileLoaded=!0;if(null!=a)for(var b=0;b<a.length;b++)this.parseLine(a[b])};randori.i18n.PropertyFileTranslator.prototype.parseLine=function(a){if(0!=a.length&&null==a.match(/^[#!]/)){var b=a.match(/^(\w+)\s?=\s?([\w\W]+?)[\n\r]+/),c;null!=b&&3==b.length&&(a=b[1],b=c=b[2],-1!=b.indexOf(",")&&(c=b.split(",")),this.keyValuePairs[a]=c)}};$inherit(randori.i18n.PropertyFileTranslator,randori.i18n.AbstractTranslator);
randori.i18n.PropertyFileTranslator.className="randori.i18n.PropertyFileTranslator";randori.i18n.PropertyFileTranslator.getClassDependencies=function(){return[]};
randori.i18n.PropertyFileTranslator.injectionPoints=function(a){switch(a){case 0:a=[];a.push({n:"translationResult",t:"randori.signal.SimpleSignal"});a.push({n:"url",t:"String"});a.push({n:"xmlHttpRequest",t:"XMLHttpRequest"});a.push({n:"urlRewriter",t:"guice.loader.URLRewriterBase"});break;case 1:a=randori.i18n.AbstractTranslator.injectionPoints(a);break;case 2:a=randori.i18n.AbstractTranslator.injectionPoints(a);break;case 3:a=randori.i18n.AbstractTranslator.injectionPoints(a);break;default:a=[]}return a};
"undefined"==typeof randori&&(randori={});"undefined"==typeof randori.signal&&(randori.signal={});randori.signal.SimpleSignal=function(){this.permanent=this.once=null;this.permanent=[];this.once=[]};randori.signal.SimpleSignal.prototype.findIndex=function(a,b){for(var c,d=0;d<b.length&&!(c=b[d],a===c);d++);return-1};randori.signal.SimpleSignal.prototype.add=function(a){this.permanent.push($createStaticDelegate(this,a))};
randori.signal.SimpleSignal.prototype.addOnce=function(a){this.once.push($createStaticDelegate(this,a))};randori.signal.SimpleSignal.prototype.remove=function(a){var b;b=this.findIndex($createStaticDelegate(this,a),this.once);-1!=b?this.once.splice(b,1):(b=this.findIndex($createStaticDelegate(this,a),this.permanent),-1!=b&&this.permanent.splice(b,1))};
randori.signal.SimpleSignal.prototype.has=function(a){var b;b=this.findIndex($createStaticDelegate(this,a),this.once);if(-1!=b)return!0;b=this.findIndex($createStaticDelegate(this,a),this.permanent);return-1!=b?!0:!1};randori.signal.SimpleSignal.prototype.dispatch=function(a){for(var b;0<this.once.length;)b=this.once.pop(),b.apply(this,arguments);for(var c=0;c<this.permanent.length;c++)b=this.permanent[c],b.apply(this,arguments)};randori.signal.SimpleSignal.className="randori.signal.SimpleSignal";
randori.signal.SimpleSignal.getClassDependencies=function(){return[]};randori.signal.SimpleSignal.injectionPoints=function(){return[]};"undefined"==typeof randori&&(randori={});"undefined"==typeof randori.styles&&(randori.styles={});randori.styles.StyleExtensionMap=function(){this.hashMap=null;this.hashMap={}};randori.styles.StyleExtensionMap.prototype.addCSSEntry=function(a,b,c){var d=this.hashMap[a];null==d&&(d=new randori.styles.StyleExtensionMapEntry,this.hashMap[a]=d);d.addExtensionType(b,c)};
randori.styles.StyleExtensionMap.prototype.hasBehaviorEntry=function(a){return null!=this.hashMap[a]};randori.styles.StyleExtensionMap.prototype.getExtensionEntry=function(a){return this.hashMap[a]};randori.styles.StyleExtensionMap.prototype.getAllRandoriSelectorEntries=function(){var a=[],b;for(b in this.hashMap)a.push(b);return a};randori.styles.StyleExtensionMap.className="randori.styles.StyleExtensionMap";
randori.styles.StyleExtensionMap.getClassDependencies=function(){var a;a=[];a.push("randori.styles.StyleExtensionMapEntry");return a};randori.styles.StyleExtensionMap.injectionPoints=function(){return[]};"undefined"==typeof randori&&(randori={});"undefined"==typeof randori.content&&(randori.content={});randori.content.ContentResolver=function(a){this.map=a};randori.content.ContentResolver.prototype.resolveContent=function(a){a.getAttribute("data-content");a.removeAttribute("data-content")};
randori.content.ContentResolver.className="randori.content.ContentResolver";randori.content.ContentResolver.getClassDependencies=function(){return[]};randori.content.ContentResolver.injectionPoints=function(a){switch(a){case 0:a=[];a.push({n:"map",t:"randori.styles.StyleExtensionMap"});break;default:a=[]}return a};"undefined"==typeof randori&&(randori={});"undefined"==typeof randori.async&&(randori.async={});
randori.async.Promise=function(){this.reason=null;this.state=0;this.value=this.thenContracts=null;this.thenContracts=[]};randori.async.Promise.PENDING=0;randori.async.Promise.REJECTED=1;randori.async.Promise.FULLFILLED=2;randori.async.Promise.prototype.isFunction=function(a){return!(!a||!a.constructor||!a.call||!a.apply)};
randori.async.Promise.prototype.then=function(a,b){2>arguments.length&&(1>arguments.length&&(a=null),b=null);var c=new randori.async.Promise;this.isFunction($createStaticDelegate(this,a))||(a=null);this.isFunction($createStaticDelegate(this,b))||(b=null);this.thenContracts.push({fullfilledHandler:a,rejectedHandler:b,promise:c});var d=this;2==this.state?setTimeout(function(){d.fullfill(this.value)},1):1==this.state&&setTimeout(function(){d.internalReject(this.reason)},1);return c};
randori.async.Promise.prototype.resolve=function(a){0==this.state&&(this.value=a,this.fullfill(a))};randori.async.Promise.prototype.fullfill=function(a){for(this.state=2;0<this.thenContracts.length;){var b=this.thenContracts.shift();if(null!=b.fullfilledHandler)try{var c=b.fullfilledHandler(a);c&&null!=c.then?c.then(function(a){b.promise.resolve(a)},function(a){b.promise.reject(a)}):b.promise.resolve(c)}catch(d){b.promise.reject(d)}else b.promise.resolve(a)}};
randori.async.Promise.prototype.reject=function(a){0==this.state&&(this.reason=a,this.internalReject(a))};randori.async.Promise.prototype.internalReject=function(a){for(this.state=1;0<this.thenContracts.length;){var b=this.thenContracts.shift();if(null!=b.rejectedHandler)try{var c=b.rejectedHandler(a);c&&null!=c.then?c.then(function(a){b.promise.resolve(a)},function(a){b.promise.reject(a)}):b.promise.resolve(c)}catch(d){b.promise.reject(d)}else b.promise.reject(a)}};
randori.async.Promise.prototype.createItemFulfilledHandler=function(a,b){var c=this;return function(d){a[b]=d;d=!0;for(var e=0;e<a.length;e++)if(-1==a[e]){d=!1;break}d&&c.fullfill(a)}};randori.async.Promise.prototype.any=function(a){for(var b=this,c=0;c<arguments.length;c++)arguments[c].then(function(a){b.fullfill(a)},function(a){b.internalReject(a)});return this};
randori.async.Promise.prototype.all=function(a){for(var b=[],c=this,d=0;d<arguments.length;d++)b[d]=-1,arguments[d].then(this.createItemFulfilledHandler(b,d),function(a){c.internalReject(a)});return this};randori.async.Promise.className="randori.async.Promise";randori.async.Promise.getClassDependencies=function(){return[]};randori.async.Promise.injectionPoints=function(){return[]};"undefined"==typeof randori&&(randori={});"undefined"==typeof randori.utilities&&(randori.utilities={});
randori.utilities.BehaviorDecorator=function(){};randori.utilities.BehaviorDecorator.prototype.decorateObject=function(a){a.verifyAndRegister=verifyAndRegister;a.provideDecoratedElement=provideDecoratedElement;a.injectPotentialNode=injectPotentialNode;a.removeAndCleanup=removeAndCleanup};randori.utilities.BehaviorDecorator.verifyAndRegister=function(){};randori.utilities.BehaviorDecorator.removeAndCleanup=function(){};randori.utilities.BehaviorDecorator.provideDecoratedElement=function(){};
randori.utilities.BehaviorDecorator.injectPotentialNode=function(){};randori.utilities.BehaviorDecorator.className="randori.utilities.BehaviorDecorator";randori.utilities.BehaviorDecorator.getClassDependencies=function(){return[]};randori.utilities.BehaviorDecorator.injectionPoints=function(){return[]};"undefined"==typeof randori&&(randori={});"undefined"==typeof randori.bus&&(randori.bus={});randori.bus.AbstractEventBus=function(){};randori.bus.AbstractEventBus.className="randori.bus.AbstractEventBus";
randori.bus.AbstractEventBus.getClassDependencies=function(){return[]};randori.bus.AbstractEventBus.injectionPoints=function(){return[]};"undefined"==typeof randori&&(randori={});"undefined"==typeof randori.dom&&(randori.dom={});randori.dom.DomExtensionFactory=function(a,b,c){this.contentLoader=a;this.classResolver=b;this.externalBehaviorFactory=c};
randori.dom.DomExtensionFactory.prototype.buildBehavior=function(a,b,c){var d=null,d=this.classResolver.resolveClassName(c);d.get_builtIn()?d=this.externalBehaviorFactory.createExternalBehavior(b,c,d.get_type()):(d=a.buildClass(c),d.provideDecoratedElement(b));return d};randori.dom.DomExtensionFactory.prototype.buildNewContent=function(a,b){jQuery(a).append(this.contentLoader.synchronousFragmentLoad(b))};
randori.dom.DomExtensionFactory.prototype.buildChildClassBuilder=function(a,b,c){b=a.buildClass(c);a=a.buildClass("guice.ChildInjector");(new guice.GuiceJs(null)).configureInjector(a,b);return a.getInstance(guice.InjectionClassBuilder)};randori.dom.DomExtensionFactory.className="randori.dom.DomExtensionFactory";randori.dom.DomExtensionFactory.getClassDependencies=function(){var a;a=[];a.push("guice.InjectionClassBuilder");a.push("guice.GuiceJs");return a};
randori.dom.DomExtensionFactory.injectionPoints=function(a){switch(a){case 0:a=[];a.push({n:"contentLoader",t:"randori.content.ContentLoader"});a.push({n:"classResolver",t:"guice.resolver.ClassResolver"});a.push({n:"externalBehaviorFactory",t:"randori.dom.ExternalBehaviorFactory"});break;default:a=[]}return a};"undefined"==typeof randori&&(randori={});"undefined"==typeof randori.template&&(randori.template={});
randori.template.TemplateBuilder=function(){this.validTemplate=!1;this.templateAsString=null};randori.template.TemplateBuilder.prototype.captureAndEmptyTemplateContents=function(a){this.templateAsString=a.html();a.empty();this.validTemplate=!0};randori.template.TemplateBuilder.prototype.returnFieldName=function(a){return a.substr(1,a.length-2)};
randori.template.TemplateBuilder.prototype.renderTemplateClone=function(a){var b,c,d=this.templateAsString.match(RegExp("\\{[\\w\\W]+?\\}","g")),e=this.templateAsString;if(null!=d)for(var f=0;f<d.length;f++)b=d[f],c=this.returnFieldName(b),c=-1!=c.indexOf(".")?this.resolveComplexName(a,c):"*"!=c?a[c]:a,e=e.replace(b,c);a=jQuery("<div></div>");a.append(e);return a};
randori.template.TemplateBuilder.prototype.resolveComplexName=function(a,b){for(var c=a,d=b.split("."),e=0;e<d.length;e++)if(c=c[d[e]],null==c)return null;return c};randori.template.TemplateBuilder.className="randori.template.TemplateBuilder";randori.template.TemplateBuilder.getClassDependencies=function(){return[]};randori.template.TemplateBuilder.injectionPoints=function(){return[]};"undefined"==typeof randori&&(randori={});"undefined"==typeof randori.service&&(randori.service={});
randori.service.ServiceConfig=function(){this.port=this.host=this.protocol=null;this.debugMode=!0};randori.service.ServiceConfig.className="randori.service.ServiceConfig";randori.service.ServiceConfig.getClassDependencies=function(){return[]};randori.service.ServiceConfig.injectionPoints=function(){return[]};"undefined"==typeof randori&&(randori={});"undefined"==typeof randori.dom&&(randori.dom={});randori.dom.ExternalBehaviorFactory=function(){};
randori.dom.ExternalBehaviorFactory.prototype.createExternalBehavior=function(){return null};randori.dom.ExternalBehaviorFactory.className="randori.dom.ExternalBehaviorFactory";randori.dom.ExternalBehaviorFactory.getClassDependencies=function(){return[]};randori.dom.ExternalBehaviorFactory.injectionPoints=function(){return[]};"undefined"==typeof randori&&(randori={});"undefined"==typeof randori.dom&&(randori.dom={});
randori.dom.DomWalker=function(a,b,c,d,e){this.entryElement=this.extensionsToBeApplied=null;this.domExtensionFactory=a;this.classBuilder=b;this.elementDescriptorFactory=c;this.styleExtensionManager=d;this.localizationProvider=e};randori.dom.DomWalker.prototype.investigateLinkElement=function(a){this.styleExtensionManager.parsingNeeded(a)&&(this.styleExtensionManager.parseAndReleaseLinkElement(a),this.extensionsToBeApplied=this.styleExtensionManager.getExtensionsForFragment(this.entryElement))};
randori.dom.DomWalker.prototype.investigateDomElement=function(a,b){var c=b,d=this,e=a.getAttribute("id");null!=e&&a.removeAttribute("id");var f=this.elementDescriptorFactory.describeElement(a,this.extensionsToBeApplied);null!=f.context&&(this.classBuilder=this.domExtensionFactory.buildChildClassBuilder(this.classBuilder,a,f.context),d=this.classBuilder.buildClass("randori.dom.DomWalker"));null!=f.behavior?(c=this.domExtensionFactory.buildBehavior(this.classBuilder,a,f.behavior),null!=b&&b.injectPotentialNode(e,
c)):null!=e&&null!=c&&c.injectPotentialNode(e,jQuery(a));null!=f.fragment&&(this.domExtensionFactory.buildNewContent(a,f.fragment),d=this.classBuilder.buildClass("randori.dom.DomWalker"));d.walkChildren(a,c);null!=c&&c!=b&&c.verifyAndRegister()};
randori.dom.DomWalker.prototype.investigateNode=function(a,b){1==a.nodeType?(null==this.extensionsToBeApplied&&(this.entryElement=a,this.extensionsToBeApplied=this.styleExtensionManager.getExtensionsForFragment(this.entryElement)),"META"!=a.nodeName&&("LINK"==a.nodeName?this.investigateLinkElement(a):this.investigateDomElement(a,b))):3==a.nodeType?this.localizationProvider.investigateTextNode(a):this.walkChildren(a,b)};
randori.dom.DomWalker.prototype.walkChildren=function(a,b){2>arguments.length&&(b=null);var c=a.firstChild;null==this.extensionsToBeApplied&&1==a.nodeType&&(this.entryElement=a,this.extensionsToBeApplied=this.styleExtensionManager.getExtensionsForFragment(this.entryElement));for(;null!=c;)this.investigateNode(c,b),c=c.nextSibling};randori.dom.DomWalker.prototype.walkDomChildren=function(a,b){2>arguments.length&&(b=null);this.walkChildren(a,b);this.extensionsToBeApplied=null};
randori.dom.DomWalker.prototype.walkDomFragment=function(a,b){2>arguments.length&&(b=null);this.investigateNode(a,b);this.extensionsToBeApplied=null};randori.dom.DomWalker.className="randori.dom.DomWalker";randori.dom.DomWalker.getClassDependencies=function(){return[]};
randori.dom.DomWalker.injectionPoints=function(a){switch(a){case 0:a=[];a.push({n:"domExtensionFactory",t:"randori.dom.DomExtensionFactory"});a.push({n:"classBuilder",t:"guice.InjectionClassBuilder"});a.push({n:"elementDescriptorFactory",t:"randori.dom.ElementDescriptorFactory"});a.push({n:"styleExtensionManager",t:"randori.styles.StyleExtensionManager"});a.push({n:"localizationProvider",t:"randori.i18n.LocalizationProvider"});break;default:a=[]}return a};"undefined"==typeof randori&&(randori={});
"undefined"==typeof randori.service&&(randori.service={});randori.service.XMLHttpRequestProvider=function(){guice.binding.provider.AbstractProvider.call(this)};randori.service.XMLHttpRequestProvider.prototype.get=function(){return new XMLHttpRequest};$inherit(randori.service.XMLHttpRequestProvider,guice.binding.provider.AbstractProvider);randori.service.XMLHttpRequestProvider.className="randori.service.XMLHttpRequestProvider";randori.service.XMLHttpRequestProvider.getClassDependencies=function(){return[]};
randori.service.XMLHttpRequestProvider.injectionPoints=function(a){switch(a){case 1:a=guice.binding.provider.AbstractProvider.injectionPoints(a);break;case 2:a=guice.binding.provider.AbstractProvider.injectionPoints(a);break;case 3:a=guice.binding.provider.AbstractProvider.injectionPoints(a);break;default:a=[]}return a};"undefined"==typeof randori&&(randori={});"undefined"==typeof randori.timer&&(randori.timer={});
randori.timer.Timer=function(a,b){this.intervalID=this._currentCount=this._repeatCount=0;this.timerTick=this.timerComplete=null;this._delay=0;2>arguments.length&&(b=0);this._delay=a;this._repeatCount=b;this._currentCount=0;this.intervalID=-1;this.timerTick=new randori.signal.SimpleSignal;this.timerComplete=new randori.signal.SimpleSignal};randori.timer.Timer.prototype.get_delay=function(){return this._delay};randori.timer.Timer.prototype.get_repeatCount=function(){return this._repeatCount};
randori.timer.Timer.prototype.get_currentCount=function(){return this._currentCount};randori.timer.Timer.prototype.onTimerTick=function(){this._currentCount++;this.timerTick.dispatch(this,this._currentCount);this._currentCount==this._repeatCount&&this.timerComplete.dispatch(this);this.stop()};randori.timer.Timer.prototype.start=function(){-1!=this.intervalID&&this.stop();this.intervalID=setInterval($createStaticDelegate(this,this.onTimerTick),this.get_delay())};
randori.timer.Timer.prototype.stop=function(){-1!=this.intervalID&&clearInterval(this.intervalID);this.intervalID=-1};randori.timer.Timer.prototype.reset=function(){this._currentCount=0;this.stop()};randori.timer.Timer.className="randori.timer.Timer";randori.timer.Timer.getClassDependencies=function(){var a;a=[];a.push("randori.signal.SimpleSignal");return a};
randori.timer.Timer.injectionPoints=function(a){switch(a){case 0:a=[];a.push({n:"delay",t:"int"});a.push({n:"repeatCount",t:"int"});break;default:a=[]}return a};"undefined"==typeof randori&&(randori={});"undefined"==typeof randori.content&&(randori.content={});randori.content.ContentParser=function(){};randori.content.ContentParser.prototype.parse=function(a){return a.replace(RegExp("(</?)body","gi"),"$1div")};randori.content.ContentParser.className="randori.content.ContentParser";
randori.content.ContentParser.getClassDependencies=function(){return[]};randori.content.ContentParser.injectionPoints=function(){return[]};"undefined"==typeof randori&&(randori={});"undefined"==typeof randori.service&&(randori.service={});"undefined"==typeof randori.service.url&&(randori.service.url={});randori.service.url.URLCacheBuster=function(a){guice.loader.URLRewriterBase.call(this);1>arguments.length&&(a=!1)};
randori.service.url.URLCacheBuster.prototype.rewriteURL=function(a){a=-1!=a.indexOf("?")?a+"&noCache=":a+"?noCache=";return a+=(new Date).getTime()};$inherit(randori.service.url.URLCacheBuster,guice.loader.URLRewriterBase);randori.service.url.URLCacheBuster.className="randori.service.url.URLCacheBuster";randori.service.url.URLCacheBuster.getClassDependencies=function(){return[]};
randori.service.url.URLCacheBuster.injectionPoints=function(a){switch(a){case 0:a=[];a.push({n:"debugMode",t:"Boolean"});break;case 1:a=guice.loader.URLRewriterBase.injectionPoints(a);break;case 2:a=guice.loader.URLRewriterBase.injectionPoints(a);break;case 3:a=guice.loader.URLRewriterBase.injectionPoints(a);break;default:a=[]}return a};"undefined"==typeof randori&&(randori={});"undefined"==typeof randori.startup&&(randori.startup={});
randori.startup.RandoriModule=function(a){guice.GuiceModule.call(this);this.urlRewriter=a};randori.startup.RandoriModule.prototype.configure=function(a){a.bind(randori.styles.StyleExtensionMap).inScope(1).to(randori.styles.StyleExtensionMap);a.bind(randori.i18n.AbstractTranslator).to(randori.i18n.NoOpTranslator);a.bind(guice.loader.URLRewriterBase).toInstance(this.urlRewriter)};$inherit(randori.startup.RandoriModule,guice.GuiceModule);randori.startup.RandoriModule.className="randori.startup.RandoriModule";
randori.startup.RandoriModule.getClassDependencies=function(){var a;a=[];a.push("randori.i18n.NoOpTranslator");a.push("guice.loader.URLRewriterBase");a.push("randori.i18n.AbstractTranslator");a.push("randori.styles.StyleExtensionMap");return a};
randori.startup.RandoriModule.injectionPoints=function(a){switch(a){case 0:a=[];a.push({n:"urlRewriter",t:"guice.loader.URLRewriterBase"});break;case 1:a=guice.GuiceModule.injectionPoints(a);break;case 2:a=guice.GuiceModule.injectionPoints(a);break;case 3:a=guice.GuiceModule.injectionPoints(a);break;default:a=[]}return a};"undefined"==typeof randori&&(randori={});"undefined"==typeof randori.i18n&&(randori.i18n={});
randori.i18n.LocalizationProvider=function(a){this.internationalKey=RegExp("\\[(labels|messages|reference)\\.\\w+\\]","g");this.pendingTranslations=this.timer=null;this.translator=a;this.timer=new randori.timer.Timer(10,1);this.timer.timerComplete.add($createStaticDelegate(this,this.sendTranslationRequest));this.pendingTranslations={}};randori.i18n.LocalizationProvider.prototype.getElementLocalizationComponents=function(a){return a.nodeValue.match(this.internationalKey)};
randori.i18n.LocalizationProvider.prototype.translateKeysSynchronously=function(a,b){return this.translator.synchronousTranslate(a,b)};randori.i18n.LocalizationProvider.prototype.investigateTextNode=function(a){var b=this.getElementLocalizationComponents(a);if(null!=b){for(var c=0;c<b.length;c++)this.requestTranslation(b[c],a);this.scheduleTranslation()}};
randori.i18n.LocalizationProvider.prototype.requestTranslation=function(a,b){var c=this.pendingTranslations[a];null==c&&(c=[],this.pendingTranslations[a]=c);c.push(b)};randori.i18n.LocalizationProvider.prototype.scheduleTranslation=function(){this.timer.reset();this.timer.start()};
randori.i18n.LocalizationProvider.prototype.sendTranslationRequest=function(){var a={},b=/\[(labels|messages|reference)\.(\w+)\]/,c,d,e;for(e in this.pendingTranslations)c=e.match(b),d=c[1],c=c[2],null==a[d]&&(a[d]=[]),a[d].push(c);for(var f in a)this.translator.translate(f,a[f])};
randori.i18n.LocalizationProvider.prototype.provideTranslation=function(a,b){for(var c,d,e=b.length-1;0<=e;e--){c="["+a+"."+b[e].key+"]";d=this.pendingTranslations[c];if(null!=d)for(var f=0;f<d.length;f++)this.applyTranslation(d[f],c,b[e].value);delete this.pendingTranslations[c]}};randori.i18n.LocalizationProvider.prototype.applyTranslation=function(a,b,c){b=a.nodeValue.replace(b,c);a.nodeValue=b};randori.i18n.LocalizationProvider.className="randori.i18n.LocalizationProvider";
randori.i18n.LocalizationProvider.getClassDependencies=function(){var a;a=[];a.push("randori.timer.Timer");return a};randori.i18n.LocalizationProvider.injectionPoints=function(a){switch(a){case 0:a=[];a.push({n:"translator",t:"randori.i18n.AbstractTranslator"});break;default:a=[]}return a};"undefined"==typeof randori&&(randori={});"undefined"==typeof randori.data&&(randori.data={});randori.data.HashMap=function(){this.entries=null;this.entries={}};
randori.data.HashMap.prototype.getEntry=function(a){var b=this.entries[a],c=null;if(void 0!=b)if(b instanceof Array)for(var d=0;d<b.length;d++){if(b[d].key==a){c=b[d];break}}else b.key==a&&(c=b);return c};randori.data.HashMap.prototype.get=function(a){a=this.getEntry(a);return null!=a?a.value:null};
randori.data.HashMap.prototype.put=function(a,b){var c=this.entries[a];if(null==c)this.entries[a]={key:a,value:b};else{var d=this.getEntry(a);void 0!=d?d.value=b:c instanceof Array?c.push({key:a,value:b}):(d=[],d[0]=c,d[1]={key:a,value:b},this.entries[a]=d)}};randori.data.HashMap.className="randori.data.HashMap";randori.data.HashMap.getClassDependencies=function(){return[]};randori.data.HashMap.injectionPoints=function(){return[]};"undefined"==typeof randori&&(randori={});
"undefined"==typeof randori.service&&(randori.service={});"undefined"==typeof randori.service.parser&&(randori.service.parser={});randori.service.parser.AbstractParser=function(){};randori.service.parser.AbstractParser.className="randori.service.parser.AbstractParser";randori.service.parser.AbstractParser.getClassDependencies=function(){return[]};randori.service.parser.AbstractParser.injectionPoints=function(){return[]};"undefined"==typeof randori&&(randori={});
"undefined"==typeof randori.service&&(randori.service={});randori.service.AbstractService=function(a){this.urlRewriter=null;this.xmlHttpRequest=a};randori.service.AbstractService.prototype.createUri=function(a,b,c,d){var e="";null!=a&&null!=b&&(e+=a+"://"+b);null!=c&&(e=e+":"+c);return e+"/"+d};randori.service.AbstractService.prototype.modifyHeaders=function(){};
randori.service.AbstractService.prototype.sendRequest=function(a,b){var c=new randori.async.Promise,d=this.xmlHttpRequest;b=this.urlRewriter.rewriteURL(b);d.open(a,b,!0);d.onreadystatechange=function(){4==d.readyState&&(200==d.status?c.resolve(d.responseText):c.reject(d.statusText))};this.modifyHeaders(this.xmlHttpRequest);this.xmlHttpRequest.send();return c};randori.service.AbstractService.prototype.sendRequestFull=function(a,b,c,d,e){return this.sendRequest(a,this.createUri(b,c,d,e))};
randori.service.AbstractService.className="randori.service.AbstractService";randori.service.AbstractService.getClassDependencies=function(){var a;a=[];a.push("randori.async.Promise");return a};randori.service.AbstractService.injectionPoints=function(a){switch(a){case 0:a=[];a.push({n:"xmlHttpRequest",t:"XMLHttpRequest"});break;case 1:a=[];a.push({n:"urlRewriter",t:"guice.loader.URLRewriterBase",r:0,v:null});break;default:a=[]}return a};"undefined"==typeof randori&&(randori={});
"undefined"==typeof randori.content&&(randori.content={});randori.content.ContentLoader=function(a,b,c){this.contentCache=a;this.urlRewriter=c;randori.service.AbstractService.call(this,b)};
randori.content.ContentLoader.prototype.synchronousFragmentLoad=function(a){var b=this.contentCache.getCachedHtmlForUri(a);if(null!=b)return b;a=this.urlRewriter.rewriteURL(a);this.xmlHttpRequest.open("GET",a,!1);this.xmlHttpRequest.send();if(404==this.xmlHttpRequest.status)throw Error("Cannot continue, missing required content "+a);return this.xmlHttpRequest.responseText};
randori.content.ContentLoader.prototype.asynchronousLoad=function(a){a=this.urlRewriter.rewriteURL(a);return this.sendRequest("GET",a).then(function(a){return a})};$inherit(randori.content.ContentLoader,randori.service.AbstractService);randori.content.ContentLoader.className="randori.content.ContentLoader";randori.content.ContentLoader.getClassDependencies=function(){return[]};
randori.content.ContentLoader.injectionPoints=function(a){switch(a){case 0:a=[];a.push({n:"contentCache",t:"randori.content.ContentCache"});a.push({n:"xmlHttpRequest",t:"XMLHttpRequest"});a.push({n:"urlRewriter",t:"guice.loader.URLRewriterBase"});break;case 1:a=randori.service.AbstractService.injectionPoints(a);break;case 2:a=randori.service.AbstractService.injectionPoints(a);break;case 3:a=randori.service.AbstractService.injectionPoints(a);break;default:a=[]}return a};